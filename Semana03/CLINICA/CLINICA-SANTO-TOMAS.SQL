
CREATE TABLE dbo.PACIENTE
( 
	IDPACIENTE           integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(150)  NOT NULL ,
	CONSTRAINT XPKPACIENTE PRIMARY KEY (IDPACIENTE ASC)
)
go



CREATE TABLE dbo.MEDICO
( 
	IDMEDICO             integer IDENTITY ( 1,1 ) ,
	NOMBRE               varchar(150)  NOT NULL ,
	CONSTRAINT XPKMEDICO PRIMARY KEY (IDMEDICO ASC)
)
go



CREATE TABLE dbo.HABITACION
( 
	IDHABITACION         integer IDENTITY ( 1,1 ) ,
	ETIQUETA             varchar(20)  NOT NULL ,
	PABELLON             varchar(20)  NULL ,
	PISO                 integer  NOT NULL ,
	DISPONIBLE           integer  NOT NULL ,
	CONSTRAINT XPKHABITACION PRIMARY KEY (IDHABITACION ASC)
)
go



CREATE TABLE dbo.CAMA
( 
	IDCAMA               integer IDENTITY ( 1,1 ) ,
	IDHABITACION         integer  NOT NULL ,
	DISPONIBLE           integer  NOT NULL ,
	ETIQUETA             varchar(20)  NOT NULL ,
	CONSTRAINT XPKCAMA PRIMARY KEY (IDCAMA ASC),
	CONSTRAINT FK_CAMA_HABITACION FOREIGN KEY (IDHABITACION) REFERENCES dbo.HABITACION(IDHABITACION)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE dbo.INGRESO
( 
	IDINGRESO            integer IDENTITY ( 1,1 ) ,
	IDPACIENTE           integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	IDCAMA               integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	MOTIVO               varchar(2000)  NOT NULL ,
	CONSTRAINT XPKINGRESO PRIMARY KEY (IDINGRESO ASC),
	CONSTRAINT FK_INGRESO_PACIENTE FOREIGN KEY (IDPACIENTE) REFERENCES dbo.PACIENTE(IDPACIENTE)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_INGRESO_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES dbo.MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_INGRESO_CAMA FOREIGN KEY (IDCAMA) REFERENCES dbo.CAMA(IDCAMA)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE dbo.ALTA
( 
	IDINGRESO            integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	MOTIVO               varchar(2000)  NOT NULL ,
	CONSTRAINT XPKALTA PRIMARY KEY (IDINGRESO ASC),
	CONSTRAINT FK_ALTA_INGRESO FOREIGN KEY (IDINGRESO) REFERENCES dbo.INGRESO(IDINGRESO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_ALTA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES dbo.MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go



CREATE TABLE dbo.VISITA
( 
	IDVISITA             integer IDENTITY ( 1,1 ) ,
	IDINGRESO            integer  NOT NULL ,
	IDMEDICO             integer  NOT NULL ,
	FECHA                datetime  NOT NULL ,
	COMENTARIO           varchar(20)  NOT NULL ,
	CONSTRAINT XPKVISITA PRIMARY KEY (IDVISITA ASC),
	CONSTRAINT FK_VISITA_INGRESO FOREIGN KEY (IDINGRESO) REFERENCES dbo.INGRESO(IDINGRESO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION,
CONSTRAINT FK_VISITA_MEDICO FOREIGN KEY (IDMEDICO) REFERENCES dbo.MEDICO(IDMEDICO)
		ON DELETE NO ACTION
		ON UPDATE NO ACTION
)
go


